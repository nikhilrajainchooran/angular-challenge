<section class="content">
  <mat-card class="px-4">
    <app-search-form (searchSubmitted)="handleSearch($event)"></app-search-form>
  </mat-card>

  @if (isLoading()) {
    <div class="loading-container" role="status" aria-live="polite">
      <mat-spinner aria-label="Loading search results"></mat-spinner>
    </div>
  }

  <section class="search-results">
    @if (!isLoading() && hasSearched()) {
      <app-search-results
        [searchResults]="searchResults()"
        [searchType]="currentSearchType()"
        (failedErrors)="handleFailedResults($event)"
        role="region"
        aria-label="Search results"
      >
      </app-search-results>
    }
  </section>
</section>
